{"remainingRequest":"/Users/fengyuanliu/workspace/fe-course-homework/codepan_clone/monaco-codepan/node_modules/babel-loader/lib/index.js!/Users/fengyuanliu/workspace/fe-course-homework/codepan_clone/monaco-codepan/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/fengyuanliu/workspace/fe-course-homework/codepan_clone/monaco-codepan/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/fengyuanliu/workspace/fe-course-homework/codepan_clone/monaco-codepan/src/components/JsonEditor.vue?vue&type=script&setup=true&lang=js","dependencies":[{"path":"/Users/fengyuanliu/workspace/fe-course-homework/codepan_clone/monaco-codepan/src/components/JsonEditor.vue","mtime":1627333101005},{"path":"/Users/fengyuanliu/workspace/fe-course-homework/codepan_clone/monaco-codepan/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fengyuanliu/workspace/fe-course-homework/codepan_clone/monaco-codepan/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/fengyuanliu/workspace/fe-course-homework/codepan_clone/monaco-codepan/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fengyuanliu/workspace/fe-course-homework/codepan_clone/monaco-codepan/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgb25Nb3VudGVkLCByZWYgfSBmcm9tICd2dWUnOwppbXBvcnQgKiBhcyBtb25hY28gZnJvbSAnbW9uYWNvLWVkaXRvcic7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgbW9kZWxWYWx1ZTogU3RyaW5nCiAgfSwKICBlbWl0czogWyd1cGRhdGU6bW9kZWxWYWx1ZSddLAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cChfX3Byb3BzLCBfcmVmKSB7CiAgICB2YXIgZXhwb3NlID0gX3JlZi5leHBvc2UsCiAgICAgICAgZW1pdCA9IF9yZWYuZW1pdDsKICAgIGV4cG9zZSgpOwogICAgdmFyIHByb3BzID0gX19wcm9wczsKICAgIHZhciBkb20gPSByZWYoKTsKICAgIHZhciBpbnN0YW5jZTsKICAgIG9uTW91bnRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBqc29uTW9kZWwgPSBtb25hY28uZWRpdG9yLmNyZWF0ZU1vZGVsKHByb3BzLm1vZGVsVmFsdWUsICdqc29uJywgbW9uYWNvLlVyaS5wYXJzZSgnanNvbjovL2dyaWQvc2V0dGluZ3MuanNvbicpKTsKICAgICAgaW5zdGFuY2UgPSBtb25hY28uZWRpdG9yLmNyZWF0ZShkb20udmFsdWUsIHsKICAgICAgICBtb2RlbDoganNvbk1vZGVsLAogICAgICAgIHRhYlNpemU6IDIsCiAgICAgICAgYXV0b21hdGljTGF5b3V0OiB0cnVlLAogICAgICAgIHNjcm9sbEJleW9uZExhc3RMaW5lOiBmYWxzZQogICAgICB9KTsKICAgICAgaW5zdGFuY2Uub25EaWRDaGFuZ2VNb2RlbENvbnRlbnQoZnVuY3Rpb24gKCkgewogICAgICAgIHZhciB2YWx1ZSA9IGluc3RhbmNlLmdldFZhbHVlKCk7CiAgICAgICAgZW1pdCgndXBkYXRlOm1vZGVsVmFsdWUnLCB2YWx1ZSk7CiAgICAgIH0pOwogICAgfSk7CiAgICB2YXIgX19yZXR1cm5lZF9fID0gewogICAgICBwcm9wczogcHJvcHMsCiAgICAgIGVtaXQ6IGVtaXQsCiAgICAgIGRvbTogZG9tLAogICAgICBpbnN0YW5jZTogaW5zdGFuY2UsCiAgICAgIG9uTW91bnRlZDogb25Nb3VudGVkLAogICAgICByZWY6IHJlZiwKICAgICAgbW9uYWNvOiBtb25hY28KICAgIH07CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX19yZXR1cm5lZF9fLCAnX19pc1NjcmlwdFNldHVwJywgewogICAgICBlbnVtZXJhYmxlOiBmYWxzZSwKICAgICAgdmFsdWU6IHRydWUKICAgIH0pOwogICAgcmV0dXJuIF9fcmV0dXJuZWRfXzsKICB9Cn07"},{"version":3,"sources":["/Users/fengyuanliu/workspace/fe-course-homework/codepan_clone/monaco-codepan/src/components/JsonEditor.vue"],"names":[],"mappings":"AAKA,SAAS,SAAT,EAA6C,GAA7C,QAAwD,KAAxD;AACA,OAAO,KAAK,MAAZ,MAAwB,eAAxB;;;;;;;;;;gBAFc,O;AAUd,QAAM,GAAG,GAAG,GAAG,EAAf;AAEA,QAAI,QAAJ;AAEA,IAAA,SAAS,CAAC,YAAM;AACd,UAAM,SAAS,GAAG,MAAM,CAAC,MAAP,CAAc,WAAd,CAChB,KAAK,CAAC,UADU,EAEhB,MAFgB,EAGhB,MAAM,CAAC,GAAP,CAAW,KAAX,CAAiB,2BAAjB,CAHgB,CAAlB;AAMA,MAAA,QAAQ,GAAG,MAAM,CAAC,MAAP,CAAc,MAAd,CAAqB,GAAG,CAAC,KAAzB,EAAgC;AACzC,QAAA,KAAK,EAAE,SADkC;AAEzC,QAAA,OAAO,EAAE,CAFgC;AAGzC,QAAA,eAAe,EAAE,IAHwB;AAIzC,QAAA,oBAAoB,EAAE;AAJmB,OAAhC,CAAX;AAOA,MAAA,QAAQ,CAAC,uBAAT,CAAiC,YAAM;AACrC,YAAM,KAAK,GAAG,QAAQ,CAAC,QAAT,EAAd;AACA,QAAA,IAAI,CAAC,mBAAD,EAAsB,KAAtB,CAAJ;AACD,OAHD;AAID,KAlBQ,CAAT","sourcesContent":["<template>\n  <div class=\"editor\" ref=\"dom\"></div>\n</template>\n\n<script setup>\nimport { onMounted, defineProps, defineEmit, ref } from 'vue';\nimport * as monaco from 'monaco-editor';\n\nconst props = defineProps({\n  modelValue: String,\n});\n\nconst emit = defineEmit(['update:modelValue']);\n\nconst dom = ref();\n\nlet instance;\n\nonMounted(() => {\n  const jsonModel = monaco.editor.createModel(\n    props.modelValue,\n    'json',\n    monaco.Uri.parse('json://grid/settings.json')\n  );\n\n  instance = monaco.editor.create(dom.value, {\n    model: jsonModel,\n    tabSize: 2,\n    automaticLayout: true,\n    scrollBeyondLastLine: false,\n  });\n\n  instance.onDidChangeModelContent(() => {\n    const value = instance.getValue();\n    emit('update:modelValue', value);\n  });\n});\n</script>\n\n<style scoped>\n.editor {\n  height: 100%;\n}\n</style>\n"]}]}